<!DOCTYPE html>
<html>
 <head>
   <meta charset="UTF-8">
   <title>a very occasional diary @ Nikita Danilov | A macro.</title>
   <link rel="stylesheet" href="style.css">
   <style></style>
   <script async src="https://www.googletagmanager.com/gtag/js?id=G-WEM34DWDR2"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-WEM34DWDR2');
</script>
   
 </head>
 <body>
   <a name="macro"></a><div class="column"><header>A macro.</header>
<a name="macro-00000"></a><p><a href="http://en.wikipedia.org/wiki/C_language">C language</a> is wonderfully profound. After almost 20 years, I still find new ways to (ab-)use it. Here is a little problem:</p>
<a name="macro-00001"></a><p style="margin-left: 3em;">Define a macro <code class="inline">IN(x, set)</code>, called as</p>
<a name="macro-00002"></a><p style="margin-left: 6em;"><code class="inline">IN(x, (v0, v1, ..., vn))</code></p>
<a name="macro-00003"></a><p style="margin-left: 3em;">that expands into an expression</p>
<a name="macro-00004"></a><p style="margin-left: 6em;"><code class="inline">((x) == (v0) || (x) == (v1) || ... (x) == (vn))</code></p>
<a name="macro-00005"></a><p>which evaluates to true <a href="http://en.wikipedia.org/wiki/Iff">iff</a> <code class="inline">x</code> is a member of set <code class="inline">{v0, ..., vn }</code>, where the type of <code class="inline">x</code> and all <code class="inline">v</code>s is the same. Alternatively, define a macro <code class="inline">IN1(x, ...)</code> that expands to the same expression as <code class="inline">IN(x, (...))</code>.</p><footer><a href="maclane.html#maclane">&lt;</a>&nbsp;<a href="series_blog_compact_reverse.html">blog</a>&nbsp;<a href="mm-units.html#mm-units">&gt;</a>&nbsp;&nbsp;&nbsp;<a href="riemann.html#riemann">&lt;</a>&nbsp;<a href="series_timeline_compact_reverse.html">timeline</a>&nbsp;<a href="деревья.html#деревья">&gt;</a>&nbsp;&nbsp;&nbsp;</footer></div>
 </body>
</html>
