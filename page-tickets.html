<!DOCTYPE html>
<html>
 <head>
   <meta charset="UTF-8">
   <title>a very occasional diary @ Nikita Danilov | page tickets</title>
   <link rel="stylesheet" href="style.css">
   <style></style>
   <script async src="https://www.googletagmanager.com/gtag/js?id=G-WEM34DWDR2"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-WEM34DWDR2');
</script>
   
 </head>
 <body>
   <a name="page-tickets"></a><div class="column"><header>page tickets</header><p class="margin-right"><span class="annotation" data-uid="0"> [2025/04/26] The comment is no longer there.</span>&nbsp;<br></p>
<a name="page-tickets-00000"></a><p>Mach VM had (or <span class="annotation" data-uid="0">still has</span> if Mac OS X counts) an interesting detail in its VM scanner implementation (<code class="inline">osfmk/vm/vm_page.h</code>):</p>
<a name="page-tickets-00001"></a><pre><code>/* 
 * Each page entered on the inactive queue obtains a ticket from a
 * particular ticket roll.  Pages granted tickets from a particular 
 * roll  generally flow through the queue as a group.  In this way when a
 * page with a ticket from a particular roll is pulled from the top of the
 * queue it is extremely likely that the pages near the top will have tickets
 * from the same or adjacent rolls.  In this way the proximity to the top
 * of the queue can be loosely ascertained by determining the identity of
 * the roll the pages ticket came from. 
 */</code></pre><footer><a href="opahead-patch.html#opahead-patch">&lt;</a>&nbsp;<a href="series_blog_compact_reverse_flat.html">blog</a>&nbsp;<a href="parmigianino.html#parmigianino">&gt;</a>&nbsp;&nbsp;&nbsp;<a href="gdb.html#gdb">&lt;</a>&nbsp;<a href="series_timeline_compact_reverse_flat.html">timeline</a>&nbsp;<a href="purelisp.introduction.html#purelisp.introduction">&gt;</a>&nbsp;&nbsp;&nbsp;</footer></div>
 </body>
</html>
